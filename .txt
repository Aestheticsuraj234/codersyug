export const GET = async (req: Request,) => {
    try {
      


        // Fetch blogs from the Prisma database, including pagination
        const blogs = await db.blog.findMany({
            orderBy: {
                createdAt: "asc",
            },
           
            include: {
                author: true,
                liked: true,
                comments: {
                    include: {
                        commenter: true,
                    },
                },
            },
        });

        return NextResponse.json(blogs, {
            status: 200,
        });
    } catch (error) {
        console.error(error);
        return new NextResponse(
            JSON.stringify({ message: "Error fetching blogs" }),
            {
                status: 500,
            }
        );
    }
};